let current = 0;
const pages = document.querySelectorAll(".page");
const container = document.getElementById("container");
let locked = false;

function go(index) {
  if (index < 0 || index >= pages.length) return;
  locked = true;
  container.style.transform = `translateY(-${index * 100}vh)`;
  current = index;
  setTimeout(() => locked = false, 1000);
}

window.addEventListener("wheel", e => {
  if (locked) return;
  e.deltaY > 0 ? go(current + 1) : go(current - 1);
});

let startY = 0;
window.addEventListener("touchstart", e => startY = e.touches[0].clientY);
window.addEventListener("touchend", e => {
  if (locked) return;
  const endY = e.changedTouches[0].clientY;
  if (Math.abs(startY - endY) > 50) {
    startY > endY ? go(current + 1) : go(current - 1);
  }
});

function showGift() {
  alert("这是我想送给你的一点心意。\n如果你想领，它就在这里。\n如果不想，也完全没关系。");
}
